<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>decompiler: GhidraCommand Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">decompiler
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classGhidraCommand-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GhidraCommand Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for a <em>command</em> to the decompiler as issued by a Ghidra client.  
 <a href="classGhidraCommand.html#details">More...</a></p>

<p><code>#include &lt;ghidra_process.hh&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GhidraCommand:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classGhidraCommand.png" usemap="#GhidraCommand_map" alt=""/>
  <map id="GhidraCommand_map" name="GhidraCommand_map">
<area href="classDecompileAt.html" title="Command to decompile a specific function." alt="DecompileAt" shape="rect" coords="0,56,119,80"/>
<area href="classDeregisterProgram.html" title="Command to release all resources associated with a Program (executable) in the decompiler." alt="DeregisterProgram" shape="rect" coords="129,56,248,80"/>
<area href="classFlushNative.html" title="Command to flush all symbols associated with a Program (executable)" alt="FlushNative" shape="rect" coords="258,56,377,80"/>
<area href="classRegisterProgram.html" title="Command to register a new Program (executable) with the decompiler." alt="RegisterProgram" shape="rect" coords="387,56,506,80"/>
<area href="classSetAction.html" title="Command to set the root Action used by the decompiler or toggle output components." alt="SetAction" shape="rect" coords="516,56,635,80"/>
<area href="classSetOptions.html" title="Command to toggle options within the decompiler." alt="SetOptions" shape="rect" coords="645,56,764,80"/>
<area href="classStructureGraph.html" title="Command to structure a control-flow graph." alt="StructureGraph" shape="rect" coords="774,56,893,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7d1a5cfedfd8f1d05161d27627302716"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#a7d1a5cfedfd8f1d05161d27627302716">rawAction</a> (void)=0</td></tr>
<tr class="memdesc:a7d1a5cfedfd8f1d05161d27627302716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the action of the command.  <a href="classGhidraCommand.html#a7d1a5cfedfd8f1d05161d27627302716">More...</a><br /></td></tr>
<tr class="separator:a7d1a5cfedfd8f1d05161d27627302716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d65958413c0e4669768332fa0f0476"><td class="memItemLeft" align="right" valign="top">int4&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476">doit</a> (void)</td></tr>
<tr class="memdesc:a60d65958413c0e4669768332fa0f0476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure and execute the command, then send back results.  <a href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476">More...</a><br /></td></tr>
<tr class="separator:a60d65958413c0e4669768332fa0f0476"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3e92d63544a9e5a36f27f6c3b177b28a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a">loadParameters</a> (void)</td></tr>
<tr class="memdesc:a3e92d63544a9e5a36f27f6c3b177b28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read parameters directing command execution.  <a href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a">More...</a><br /></td></tr>
<tr class="separator:a3e92d63544a9e5a36f27f6c3b177b28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964ade9b1f768c55434d412834ba2eca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca">sendResult</a> (void)</td></tr>
<tr class="memdesc:a964ade9b1f768c55434d412834ba2eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send results of the command (if any) back to the Ghidra client.  <a href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca">More...</a><br /></td></tr>
<tr class="separator:a964ade9b1f768c55434d412834ba2eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af8206fa1ff96a669871717739f25a337"><td class="memItemLeft" align="right" valign="top"><a id="af8206fa1ff96a669871717739f25a337"></a>
istream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#af8206fa1ff96a669871717739f25a337">sin</a></td></tr>
<tr class="memdesc:af8206fa1ff96a669871717739f25a337"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input stream from the Ghidra client. <br /></td></tr>
<tr class="separator:af8206fa1ff96a669871717739f25a337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69e547a2a9f0f86f9a56679db28d615"><td class="memItemLeft" align="right" valign="top"><a id="ad69e547a2a9f0f86f9a56679db28d615"></a>
ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#ad69e547a2a9f0f86f9a56679db28d615">sout</a></td></tr>
<tr class="memdesc:ad69e547a2a9f0f86f9a56679db28d615"><td class="mdescLeft">&#160;</td><td class="mdescRight">The output stream to the Ghidra client. <br /></td></tr>
<tr class="separator:ad69e547a2a9f0f86f9a56679db28d615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5647427395bb496d4647f79f04a05aa"><td class="memItemLeft" align="right" valign="top"><a id="ad5647427395bb496d4647f79f04a05aa"></a>
<a class="el" href="classArchitectureGhidra.html">ArchitectureGhidra</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#ad5647427395bb496d4647f79f04a05aa">ghidra</a></td></tr>
<tr class="memdesc:ad5647427395bb496d4647f79f04a05aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classArchitecture.html" title="Manager for all the major decompiler subsystems.">Architecture</a> on which to perform the command. <br /></td></tr>
<tr class="separator:ad5647427395bb496d4647f79f04a05aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70cceb418d76ef01a922d3a01ccc76a6"><td class="memItemLeft" align="right" valign="top"><a id="a70cceb418d76ef01a922d3a01ccc76a6"></a>
int4&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGhidraCommand.html#a70cceb418d76ef01a922d3a01ccc76a6">status</a></td></tr>
<tr class="memdesc:a70cceb418d76ef01a922d3a01ccc76a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Meta-command to system (0=wait for next command, 1=terminate process) <br /></td></tr>
<tr class="separator:a70cceb418d76ef01a922d3a01ccc76a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for a <em>command</em> to the decompiler as issued by a Ghidra client. </p>
<p>A command object is provided i/o streams to the client, and the action of the command is performed by calling the <a class="el" href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476" title="Configure and execute the command, then send back results.">doit()</a> method. This wraps the main sequence of methods:</p><ul>
<li><a class="el" href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a" title="Read parameters directing command execution.">loadParameters()</a></li>
<li><a class="el" href="classGhidraCommand.html#a7d1a5cfedfd8f1d05161d27627302716" title="Perform the action of the command.">rawAction()</a></li>
<li><a class="el" href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca" title="Send results of the command (if any) back to the Ghidra client.">sendResult()</a></li>
</ul>
<p>At a minimum, <a class="el" href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a" title="Read parameters directing command execution.">loadParameters()</a> will read an id to select the active <a class="el" href="classArchitectureGhidra.html" title="An implementation of the Architecture interface and connection to a Ghidra client.">ArchitectureGhidra</a> object, and <a class="el" href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca" title="Send results of the command (if any) back to the Ghidra client.">sendResult()</a> will send back any accumulated warning/error messages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a60d65958413c0e4669768332fa0f0476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d65958413c0e4669768332fa0f0476">&#9670;&nbsp;</a></span>doit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int4 GhidraCommand::doit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure and execute the command, then send back results. </p>
<p>This method calls the main overloaded methods:</p><ul>
<li><a class="el" href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a" title="Read parameters directing command execution.">loadParameters()</a></li>
<li><a class="el" href="classGhidraCommand.html#a7d1a5cfedfd8f1d05161d27627302716" title="Perform the action of the command.">rawAction()</a></li>
<li><a class="el" href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca" title="Send results of the command (if any) back to the Ghidra client.">sendResult()</a></li>
</ul>
<p>It wraps the sequence with appropriate error handling and message protocol. </p><dl class="section return"><dt>Returns</dt><dd>the meta-command (0=continue, 1=terminate) as issued by the command. </dd></dl>

<p class="reference">References <a class="el" href="structLowlevelError.html#afa821264468ba7772c966aab644796c4">LowlevelError::explain</a>, <a class="el" href="structXmlError.html#aa151d34ce48f4ac6ee225f2491758f9a">XmlError::explain</a>, <a class="el" href="classGhidraCommand.html#ad5647427395bb496d4647f79f04a05aa">ghidra</a>, <a class="el" href="classGhidraCommand.html#a3e92d63544a9e5a36f27f6c3b177b28a">loadParameters()</a>, <a class="el" href="classArchitectureGhidra.html#afed66db0ba46a6c4bb1c42e173d021fa">ArchitectureGhidra::passJavaException()</a>, <a class="el" href="classArchitectureGhidra.html#ae7cdac6309428d288bc2317f9997aa4e">ArchitectureGhidra::printMessage()</a>, <a class="el" href="classGhidraCommand.html#a7d1a5cfedfd8f1d05161d27627302716">rawAction()</a>, <a class="el" href="classArchitectureGhidra.html#a3132c5fe1bb675952197aa4eafcf298e">ArchitectureGhidra::readToAnyBurst()</a>, <a class="el" href="classGhidraCommand.html#a964ade9b1f768c55434d412834ba2eca">sendResult()</a>, <a class="el" href="classGhidraCommand.html#af8206fa1ff96a669871717739f25a337">sin</a>, <a class="el" href="classGhidraCommand.html#ad69e547a2a9f0f86f9a56679db28d615">sout</a>, <a class="el" href="classGhidraCommand.html#a70cceb418d76ef01a922d3a01ccc76a6">status</a>, and <a class="el" href="structJavaError.html#a7b3350128bacf6f2828e9cf721460000">JavaError::type</a>.</p>

</div>
</div>
<a id="a3e92d63544a9e5a36f27f6c3b177b28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e92d63544a9e5a36f27f6c3b177b28a">&#9670;&nbsp;</a></span>loadParameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GhidraCommand::loadParameters </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read parameters directing command execution. </p>
<p>This method reads an id selecting the <a class="el" href="classArchitecture.html" title="Manager for all the major decompiler subsystems.">Architecture</a> to act on, but it can be overloaded to read any set of data from the Ghidra client to configure how the command is executed. Individual parameters are read using the method protocol. </p>

<p>Reimplemented in <a class="el" href="classSetOptions.html#ae18f9a64a3329c30fd6d9845cdafacfe">SetOptions</a>, <a class="el" href="classSetAction.html#a23a1c5e950ce5a2d3665ef7af74374ff">SetAction</a>, <a class="el" href="classStructureGraph.html#ab0c0598254781e3c0fe3532e9960695f">StructureGraph</a>, <a class="el" href="classDecompileAt.html#aa4a0625702a29247018208fe8a1dab20">DecompileAt</a>, <a class="el" href="classDeregisterProgram.html#a67baa59061cf6886629dba5f7230ebb8">DeregisterProgram</a>, and <a class="el" href="classRegisterProgram.html#a2a32785b2075aac61b97bc7b9b283c67">RegisterProgram</a>.</p>

<p class="reference">References <a class="el" href="classGhidraCommand.html#ad5647427395bb496d4647f79f04a05aa">ghidra</a>, <a class="el" href="classArchitectureGhidra.html#a3132c5fe1bb675952197aa4eafcf298e">ArchitectureGhidra::readToAnyBurst()</a>, and <a class="el" href="classGhidraCommand.html#af8206fa1ff96a669871717739f25a337">sin</a>.</p>

<p class="reference">Referenced by <a class="el" href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476">doit()</a>, <a class="el" href="classDecompileAt.html#aa4a0625702a29247018208fe8a1dab20">DecompileAt::loadParameters()</a>, <a class="el" href="classStructureGraph.html#ab0c0598254781e3c0fe3532e9960695f">StructureGraph::loadParameters()</a>, <a class="el" href="classSetAction.html#a23a1c5e950ce5a2d3665ef7af74374ff">SetAction::loadParameters()</a>, and <a class="el" href="classSetOptions.html#ae18f9a64a3329c30fd6d9845cdafacfe">SetOptions::loadParameters()</a>.</p>

</div>
</div>
<a id="a7d1a5cfedfd8f1d05161d27627302716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1a5cfedfd8f1d05161d27627302716">&#9670;&nbsp;</a></span>rawAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GhidraCommand::rawAction </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform the action of the command. </p>
<p>Configuration is assumed to have happened, and <b>this</b> object can immediately begin examining and manipulating data under the active <a class="el" href="classArchitecture.html" title="Manager for all the major decompiler subsystems.">Architecture</a> object to perform the command. </p>

<p>Implemented in <a class="el" href="classSetOptions.html#a1e73126b79340651e9fa9cfc47e80649">SetOptions</a>, <a class="el" href="classSetAction.html#af53890c4472a36b4c78d0c97bb1f39d4">SetAction</a>, <a class="el" href="classStructureGraph.html#a498c9004314b3845ca36c46f77b43ed6">StructureGraph</a>, <a class="el" href="classDecompileAt.html#ae5dfee8a7e5fd8343f7cf59e53d4f78c">DecompileAt</a>, <a class="el" href="classFlushNative.html#a92fb03dcd3fb080a2033442403cde93c">FlushNative</a>, <a class="el" href="classDeregisterProgram.html#a3086821f7a4e57a5f3cf585513d48b73">DeregisterProgram</a>, and <a class="el" href="classRegisterProgram.html#ae79c022fba3244f9969aa007058f4b53">RegisterProgram</a>.</p>

<p class="reference">Referenced by <a class="el" href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476">doit()</a>.</p>

</div>
</div>
<a id="a964ade9b1f768c55434d412834ba2eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964ade9b1f768c55434d412834ba2eca">&#9670;&nbsp;</a></span>sendResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GhidraCommand::sendResult </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send results of the command (if any) back to the Ghidra client. </p>
<p>This method sends any warnings accumulated during execution back, but it can be overloaded to send back any kind of information. Individual records are sent using the message protocol. </p>

<p>Reimplemented in <a class="el" href="classSetOptions.html#acda0298b997b3c299f377fa902cd6e51">SetOptions</a>, <a class="el" href="classSetAction.html#a518fa3f6969f1ed1f08fdff515c0add8">SetAction</a>, <a class="el" href="classFlushNative.html#a0972590dee26e15c4107f119ad4610ff">FlushNative</a>, <a class="el" href="classDeregisterProgram.html#a3e232afcb18e5f8747af856fb6b7cbfd">DeregisterProgram</a>, and <a class="el" href="classRegisterProgram.html#af4fe98fa45f20fe05ef6ffdc2f2544e5">RegisterProgram</a>.</p>

<p class="reference">References <a class="el" href="classGhidraCommand.html#ad5647427395bb496d4647f79f04a05aa">ghidra</a>, and <a class="el" href="classGhidraCommand.html#ad69e547a2a9f0f86f9a56679db28d615">sout</a>.</p>

<p class="reference">Referenced by <a class="el" href="classGhidraCommand.html#a60d65958413c0e4669768332fa0f0476">doit()</a>, <a class="el" href="classRegisterProgram.html#af4fe98fa45f20fe05ef6ffdc2f2544e5">RegisterProgram::sendResult()</a>, <a class="el" href="classDeregisterProgram.html#a3e232afcb18e5f8747af856fb6b7cbfd">DeregisterProgram::sendResult()</a>, <a class="el" href="classFlushNative.html#a0972590dee26e15c4107f119ad4610ff">FlushNative::sendResult()</a>, <a class="el" href="classSetAction.html#a518fa3f6969f1ed1f08fdff515c0add8">SetAction::sendResult()</a>, and <a class="el" href="classSetOptions.html#acda0298b997b3c299f377fa902cd6e51">SetOptions::sendResult()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ghidra__process_8hh.html">ghidra_process.hh</a></li>
<li>ghidra_process.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
